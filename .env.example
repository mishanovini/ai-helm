# AI Helm - Environment Variables Template
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# Database Connection (Required for production)
# Example: postgresql://user:password@localhost:5432/dbname
DATABASE_URL=

# Server Configuration
# PORT is set automatically by Railway (or defaults to 3000 locally)
PORT=3000
NODE_ENV=development

# Session Security (Required for authentication - if enabled)
# Generate a secure random string: openssl rand -base64 32
SESSION_SECRET=

# Security Configuration

# Trust proxy headers (X-Forwarded-For) for IP rate limiting
# Set to "true" ONLY when behind a trusted reverse proxy (nginx, Cloudflare, etc.)
# Security risk: Attackers can spoof X-Forwarded-For if enabled without trusted proxy
TRUST_PROXY=false

# Allowed origins for WebSocket connections (production only)
# Comma-separated list of allowed origins (no spaces)
# Example: ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# Leave empty to allow same-origin requests only
ALLOWED_ORIGINS=

# Authentication (Optional - set REQUIRE_AUTH=true to enable)
# When disabled, the app works without login (backwards compatible)
REQUIRE_AUTH=false

# Google OAuth 2.0 (optional, for SSO login)
# Create credentials at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=/auth/google/callback

# GitHub OAuth (optional, for SSO login)
# Create an OAuth App at: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=/auth/github/callback

# Encryption key for server-side API key storage (Phase 2)
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=

# Note: API keys are NOT stored server-side by default
# Users provide their own API keys through the web interface
# Keys are stored in browser localStorage only
# When server-side key management is enabled (Phase 2), keys are encrypted at rest

# Admin Console Access (for no-auth/demo mode)
# When REQUIRE_AUTH=false, the admin console requires this secret for access.
# If not set, the admin console is accessible without authentication (dev mode only).
# Generate a secure random string: openssl rand -base64 32
ADMIN_SECRET=

# Demo key file (encrypted with ENCRYPTION_KEY, managed via admin console)
# Path to the file where admin-managed demo keys are persisted.
# Defaults to ".demo-keys.json" in the project root. Listed in .gitignore.
DEMO_KEYS_FILE=.demo-keys.json

# Demo Mode (enabled by default â€” app works out of the box)
# Set to "false" to require users to provide their own API keys.
# When enabled, unauthenticated visitors can try the app using demo/org API keys.
# Users who provide their own keys bypass all demo/org rate limits.
# DEMO_MODE=false

# Demo API Keys (provide at least one to enable demo functionality)
DEMO_GEMINI_KEY=
DEMO_OPENAI_KEY=
DEMO_ANTHROPIC_KEY=

# Demo Rate Limits
# Per-session message limit within the rate window (default: 10 messages/hour)
DEMO_SESSION_LIMIT=10
# Per-IP global rate limit to prevent bot flooding (default: 30 messages/hour)
DEMO_IP_LIMIT=30
# Daily budget cap in USD across all demo users (resets at midnight UTC)
DEMO_DAILY_BUDGET=2.00
